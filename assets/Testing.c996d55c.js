import{_ as w,u as d,o as r,c as h,b as l,n as p,t as f,F as x,e as y,d as m,f as g,l as b,r as k,g as T,h as E,i as u,w as F,j as D,p as R,k as S}from"./index.1fa0657c.js";import{t as v}from"./data.70d20842.js";const A={name:"APP",props:["pattern"],data(){return{backgroundColor:["#FF0017","#0091FF","#E3E3DB","#FF00E3","#00A88A","#52A23B","#B58B00","#93908F"],fontColor:["#FFFFFF","#FFFFFF","#93908F","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF"],lineHeight:[1.5,2,2.5],textType:[0,1,2],data:[],selectLineHeight:0,selectBackgroundColor:"",selectPattern:{},selectFontColor:"",patternType:[{row:12,number:8,space:1},{row:12,number:29,space:0},{row:12,number:7,space:1},{row:10,number:25,space:0}],selectElementGroup:{},targetElement:""}},methods:{selectElement(t){typeof this.selectElementGroup[t]>"u"?this.selectElementGroup[t]=1:this.selectElementGroup[t]=!this.selectElementGroup[t];let e=0,s=0;for(let n in this.selectElementGroup)this.selectElementGroup[n]&&(this.data[n]==this.targetElement?s++:e++);const i=d();i.tmpAccuracy={wrong:e,right:s,sumWord:this.data.length}},shuffleArray(t){for(let e=t.length-1;e>0;e--){const s=Math.floor(Math.random()*(e+1));[t[e],t[s]]=[t[s],t[e]]}return t},dataProcess(t){let e=Math.floor(Math.random()*t.length),s=t[e];t=t.toSpliced(e,1);let i=8;for(let n=0;n<i-1;++n){let o=Math.floor(Math.random()*t.length);t=t.toSpliced(o,1)}t=this.shuffleArray(t);for(let n=0;n<i;++n){let o=Math.floor(Math.random()*(t.length-2*this.selectPattern.number))+this.selectPattern.number;t=t.toSpliced(o,0,s)}return[s,t]}},created(){},mounted(){let t=new Array,e=this.textType[this.pattern.textType];this.selectLineHeight=this.lineHeight[this.pattern.lineHeight],this.selectBackgroundColor=this.backgroundColor[this.pattern.backgroundColor],this.selectFontColor=this.fontColor[this.pattern.backgroundColor],e==3?t=v[1]:t=v[e],this.selectPattern=this.patternType[e],[this.targetElement,this.data]=this.dataProcess(t)},watch:{},components:{}},B={style:{width:"100%",height:"100%"}},P={style:{display:"flex","justify-content":"center",height:"100%","padding-top":"calc(0vh)","align-items":"center"}},M=["onClick"],G={key:0};function H(t,e,s,i,n,o){return r(),h("div",B,[l("div",P,[l("div",{style:p({"font-size":"16px",color:n.selectFontColor})},[l("span",null,"TARGET: "+f(n.targetElement),1),l("hr",{style:p({backgroundColor:n.selectFontColor,width:"100%",height:"1px",border:"none",margin:"15px 0px"})},null,4),(r(!0),h(x,null,y(n.selectPattern.row,(C,a)=>(r(),h("div",{key:"row_"+a,style:p({"line-height":n.selectLineHeight})},[(r(!0),h(x,null,y(n.selectPattern.number,(_,c)=>(r(),h("span",{key:"cnt_"+a+"_"+c,style:p({fontWeight:n.selectElementGroup[a*n.selectPattern.number+c]==1?"bolder":"normal",cursor:"pointer"}),onClick:K=>o.selectElement(a*n.selectPattern.number+c)},[m(f(n.data[a*n.selectPattern.number+c]),1),n.selectPattern.space==1?(r(),h("span",G,"\xA0")):g("",!0)],12,M))),128))],4))),128))],4)])])}const j=w(A,[["render",H]]);const N={name:"home_view",data(){return{msgH:null,pattern:[],patternCnt:0,timeCnt:30,timeNote:0,isRelax:!0,timer:null,backgroundColor:["#FF0017","#0091FF","#E3E3DB","#FF00E3","#00A88A","#52A23B","#B58B00","#93908F"],selectBackgroundColor:"#ffffff",startTime:0}},computed:{initSign(){return 1},loadingText(){return"Loading"}},mounted(){const t=d();t.allData.data=[],this.msgH=1,this.pattern=this.patternProcess(),this.patternCnt=0,this.selectBackgroundColor=this.backgroundColor[this.pattern[this.patternCnt].backgroundColor],this.timeCountDown()},methods:{saveData(){let e=d().allData;b.post("https://formspree.io/f/xqkrgypr",{data:JSON.stringify(e),dataType:"json"}).then(s=>{console.log(s)}).catch(s=>{console.log(s)}),this.$router.push("/end")},shuffleArray(t){for(let e=t.length-1;e>0;e--){const s=Math.floor(Math.random()*(e+1));[t[e],t[s]]=[t[s],t[e]]}return t},patternProcess(){let t=new Array;for(let e=0;e<8;++e)for(let s=0;s<3;++s)for(let i=0;i<3;++i)t.push({backgroundColor:e,lineHeight:s,textType:i});return this.shuffleArray(t)},roundSave(t){let e=new Date-this.startTime;const s=d();typeof s.tmpAccuracy>"u"&&(s.tmpAccuracy={right:0,wrong:0,sumWord:0}),s.allData.data.push({time:e,accuracy:s.tmpAccuracy,pattern:t,id:s.allData.length,startTime:this.startTime}),s.tmpAccuracy={right:0,wrong:0,sumWord:0},console.log(s.allData)},nextRound(){this.roundSave(this.pattern[this.patternCnt]),this.patternCnt++,this.isRelax=!this.isRelax,this.timeCountDown()},nextRoundClick(){this.isRelax?(this.isRelax=!this.isRelax,this.skipRelax()):(this.roundSave(this.pattern[this.patternCnt]),this.patternCnt++,this.patternCnt!=72&&(this.isRelax=!this.isRelax),this.patternCnt==72&&this.saveData(),this.timeCountDown()),event.preventDefault()},timeCountDown(){let t=this.timeCnt;this.timeNote=t,this.timer=setInterval(()=>{t>0?(t--,this.timeNote=t):(clearInterval(this.timer),this.startTest())},1e3)},skipRelax(){clearInterval(this.timer),this.startTest()},startTest(){this.isRelax=!1,this.startTime=new Date}},watch:{patternCnt:{handler(){this.patternCnt<this.pattern.length&&(this.selectBackgroundColor=this.backgroundColor[this.pattern[this.patternCnt].backgroundColor])}}},components:{test:j}},I=t=>(R("data-v-1782e47e"),t=t(),S(),t),L=["element-loading-text"],z={style:{height:"80%",width:"100%"}},W={key:1,style:{width:"100%",height:"100%",display:"flex","justify-content":"center","flex-direction":"column","padding-top":"calc(0vh)"}},V={style:{"margin-bottom":"10px","font-size":"40px",color:"white"}},q={style:{"margin-bottom":"30px","font-size":"20px",color:"white"}},J=I(()=>l("div",{style:{width:"100%",display:"flex","justify-content":"center"}},[l("div",{class:"cross"})],-1));function O(t,e,s,i,n,o){const C=k("test"),a=k("el-button"),_=T("loading");return E((r(),h("div",{class:"common-layout",style:p({width:"100%",height:"100vh",backgroundColor:n.isRelax?" #797775":n.selectBackgroundColor}),"element-loading-text":o.loadingText,"element-loading-background":"rgba(0, 0, 0, 0.8)",onContextmenu:e[3]||(e[3]=D(c=>o.nextRoundClick(),["right"]))},[l("div",z,[n.isRelax?(r(),h("div",W,[l("div",V,"\u7B2C "+f(n.patternCnt+1)+" \u8F6E",1),l("div",q,"\u4F11\u606F "+f(n.timeNote)+" \u79D2",1),J])):(r(),u(C,{key:0,pattern:n.pattern[n.patternCnt]},null,8,["pattern"]))]),l("div",null,[!n.isRelax&&n.patternCnt<71?(r(),u(a,{key:0,onClick:e[0]||(e[0]=c=>o.nextRound())},{default:F(()=>[m("\u4E0B\u4E00\u8F6E")]),_:1})):g("",!0),n.isRelax&&n.patternCnt<=71?(r(),u(a,{key:1,onClick:e[1]||(e[1]=c=>o.skipRelax())},{default:F(()=>[m("\u8DF3\u8FC7\u4F11\u606F")]),_:1})):g("",!0),!n.isRelax&&n.patternCnt==71?(r(),u(a,{key:2,onClick:e[2]||(e[2]=c=>o.saveData())},{default:F(()=>[m("\u7ED3\u675F\u5B9E\u9A8C")]),_:1})):g("",!0)])],44,L)),[[_,!o.initSign]])}const X=w(N,[["render",O],["__scopeId","data-v-1782e47e"]]);export{X as default};
